<div class="w-full">
  <!-- Label -->
  <label class="flex items-start pt-4 text-sm font-medium text-gray-700 mb-1">{{ label }}</label>

  <!-- Dropdown Button -->
  <div class="relative">
    <button
      type="button"
      class="w-full px-4 py-2 text-gray-700 text-left border border-gray-300 rounded-lg bg-white focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition"
      (click)="toggleDropdown()"
    >
      {{ input_placeholder }}
    </button>

    <!-- Dropdown List -->
    <ul
      *ngIf="isDropdownOpen()"
      class="absolute w-full mt-1 bg-white border border-gray-300 rounded-lg shadow-lg z-10 max-h-48 overflow-y-auto"
    >
      <li
        *ngFor="let chip of filteredChips()"
        (click)="selectChip(chip)"
        class="px-4 py-2 cursor-pointer hover:bg-blue-50 hover:text-blue-600 transition"
      >
        {{ chip.role_name ?? chip.name ?? chip.first_name }}
      </li>
    </ul>
  </div>

  <!-- Selected Chips Container with fixed height -->
  <div class="mt-2 border border-dashed border-gray-300 p-2 rounded-lg h-20 overflow-y-auto">
    <div
      *ngFor="let chip of chips()"
      class="inline-flex items-center px-3 py-1 bg-blue-100 rounded-lg text-sm text-blue-700 mr-1 mb-1"
    >
      {{ chip.role_name ?? chip.name ?? chip.first_name }}
      <button
        type="button"
        (click)="remove(chip)"
        class="ml-2 text-blue-500 hover:text-blue-700 transition"
      >
        âœ•
      </button>
    </div>
  </div>
</div>
