<!-- chat-list-contact.component.html -->
<div
  class="flex gap-4 p-4 cursor-pointer my-2 border-b border-gray-200"
  (click)="onClick()"
  [ngClass]="{
    'bg-blue-100': isSelected,
    'bg-white': !isSelected
  }"
>
  <div class="shrink-0">
    <img
      src="/assets/placeholder.jpg"
      alt="avatar"
      class="w-10 h-10 rounded-full bg-gray-100 border border-gray-200"
    />
  </div>

  <div class="flex-1 min-w-0">
    <div class="flex justify-between items-center gap-2 mb-1">
      <h3
        class="text-sm font-semibold truncate"
        [ngClass]="{
          'text-blue-800': isSelected,
          'text-gray-900': !isSelected
        }"
      >
        {{ conversation.contact_name }}
      </h3>
      <span
        class="text-xs truncate"
        [ngClass]="{
          'text-blue-600': isSelected,
          'text-gray-500': !isSelected
        }"
      >
        {{ conversation.last_message_time | date : 'shortTime' }}
      </span>
    </div>

    <p
      class="text-sm truncate mb-2"
      [ngClass]="{
        'text-blue-700': isSelected,
        'text-gray-600': !isSelected
      }"
    >
      {{ conversation.last_message }}
    </p>

    <div class="flex justify-between items-center">
      <span
        class="px-2 py-1 text-xs rounded-full"
        [ngClass]="{
          'bg-green-100 text-green-800': conversation.status === 'open',
          'bg-gray-100 text-orange-800': conversation.status === 'pending',
          'bg-red-100 text-red-800': conversation.status === 'expired',
          'bg-gray-200 text-blue-600': conversation.status === 'solved'
        }"
      >
        {{ conversation.status | titlecase }}
      </span>
      <span
        class="text-xs"
        [ngClass]="{
          'text-blue-600': isSelected,
          'text-gray-500': !isSelected
        }"
      >
        {{ conversation.updated_at | date : 'shortDate' }}
      </span>
    </div>
  </div>
</div>
