<div class="min-h-screen bg-gray-50">
    <!-- Main Container -->
    <div class="flex h-screen">
        <!-- Left Sidebar - Header Component -->
        <div class="w-80  bg-[#F5F6FF] border-lg border-[#E6E8FF] px-6 shadow-sm border-r flex flex-col transition-all duration-300 md:relative md:transform-none"
             [class]="sidebarOpen ? 'fixed inset-y-0 left-0 z-50 transform translate-x-0' : 'md:translate-x-0 -translate-x-full'">
            <!-- Header Section -->
            <div class="h-24 px-6  flex flex-col justify-center">
                <h1 class="text-2xl font-bold text-black mb-2">User Management</h1>
                <p class="text-sm  text-black">Manage users and teams efficiently</p>
            </div>
            <div class="h-px bg-[#E6E8FF] mx-6"></div>
            <!-- Header Component Container -->
            <div class="flex-1 overflow-y-auto">
                <app-user-management-header 
                    (createUser)="createUserDialogHandler()" 
                    (createTeam)="addTeamDialogHandler()" 
                    [activeTab]="activeTab"
                    (tabChanged)="onTabChanged($event)" 
                    (searchChanged)="onSearchChange($event)">
                </app-user-management-header>
            </div>
        </div>
        
        <!-- Right Content Area - Table Component -->
        <div class="flex-1 flex flex-col bg-white">

            <!-- Table Component Container -->
            <div class="flex-1 overflow-hidden">
                <app-user-management-table 
                    [activeTab]="activeTab" 
                    (editUserHandler)="editUserClick($event)" 
                    (editTeamHandler)="editTeamClick($event)"
                    [searchQuery]="searchQuery"
                    (deleteTeamDialog)="deleteTeamDialogHandler($event)">
                </app-user-management-table>
            </div>
        </div>
    </div>
</div>

<!-- Dialog Components -->
@if (createUserDialog) {
<app-create-user-dialog (close)="createUserDialogHandler()"></app-create-user-dialog>
}

@if (editUserDialog && user) {
<app-edit-user-dialog [user]="user" (close)="editUserDialogHandler()"></app-edit-user-dialog>
}

@if (addTeamDialog) {
<app-add-team (close)="addTeamDialogHandler()"></app-add-team>
}

@if (editTeamDialog && team) {
<app-edit-team [team]="team" (close)="editTeamDialogHandler()"></app-edit-team>
}

@if(deleteTeamDialog){
<app-confirm-dialog 
    [header]="'Delete Team'" 
    [message]="'Are you sure you want to delete this team?'"
    [confirmText]="'Delete'" 
    [cancelText]="'Cancel'" 
    [dialogStyle]="'danger'"
    (cancelled)="deleteTeamDialogHandler('')" 
    (confirmed)="confirmDeleteTeam()">
</app-confirm-dialog>
}
