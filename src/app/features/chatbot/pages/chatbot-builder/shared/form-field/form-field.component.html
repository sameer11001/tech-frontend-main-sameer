<div class="form-field">
      <label *ngIf="label" class="block text-sm font-medium text-gray-700 mb-1">
        {{ label }}
        <span *ngIf="required" class="text-red-500">*</span>
      </label>

      <!-- Text Input -->
      <input
        *ngIf="type === 'text'"
        type="text"
        [value]="value"
        (input)="onInput($event)"
        (blur)="onBlur()"
        [placeholder]="placeholder"
        maxlength="maxLength"
        [class]="getInputClasses()">

      <!-- Textarea -->
      <textarea
        *ngIf="type === 'textarea'"
        [value]="value"
        (input)="onInput($event)"
        (blur)="onBlur()"
        [placeholder]="placeholder"
        maxlength="maxLength"
        [rows]="rows || 3"
        [class]="getTextareaClasses()">
      </textarea>

      <!-- Select -->
      <select
        *ngIf="type === 'select'"
        [value]="value"
        (change)="onSelect($event)"
        (blur)="onBlur()"
        [class]="getSelectClasses()">
        <option *ngFor="let option of options" [value]="option.value">
          {{ option.label }}
        </option>
      </select>

      <!-- Character counter -->
      <div *ngIf="maxLength && showCharacterCount" class="text-xs text-gray-500 mt-1">
        {{ (value?.length || 0) }}/{{ maxLength }} characters
      </div>

      <!-- Error message -->
      <div *ngIf="control?.errors && control?.touched" class="text-xs text-red-600 mt-1">
        {{ getErrorMessage() }}
      </div>
    </div>
